# 监听模式

## 笔记

监听模式要明确谁是被观察者,谁是观察者, 被观察者与观察者是n对1的关系.

监听模式又名观察者模式,发布/订阅模式,模型(model)/视图(view)模式,源/监听器模式,从属者模式,这些都是监听者模式.

> 核心思想: 观察者与被观察者之间需要建立一种自动触发的模式.

这里又让想到了之前的MVC(model, view, control), 这里的MV就是模型/视图模式,而本质上也是监听者模式,通过监听被观察者的操作来做出相应. 在web或者移动端开发过程中都存在着大量的监听.而往往在coding中该如何设计,架构该如何处理就需要好好了解一下这个监听者模式了!


监听模式的设计要领:

1. 谁是观察者,谁是被观察者
2. 被观察者至少需要三个方法: 添加监听者,删除监听者,通知观察者

监听模式的两种不同类型:
1. 推模型: 向全体app用户推送更新消息
2. 拉模型: 观察者主动拉模型

## 练习

1. 在互联网广泛普及和快速发展的时代，信息安全被越来越多的人重视，其中账户安全是信息安全最重要的一个部分。很多网站都会有一个账号异常登录检测和诊断机制。当账户异常登录时，会以短信或邮件的方式将登录信息（登录的时间、地区、IP地址等）发送给已经绑定的手机或邮箱。
登录异常其实就是登录状态的改变。服务器会记录你最近几次登录的时间、地区、IP地址，从而得知你常用的登录地区；如果哪次检测到你登录的地区与常用登录地区相差非常大（说明是登录地区的改变），则认为是一次异常登录。而短信和邮箱的发送机制我们可以认为是登录的监听者，只要登录异常一出现就自动发送信息。
2. 思考还有什么监听者模型
   
   前后端其实就是一个监听者模型,服务器监听客户端的请求; 会员等级; 原神中游戏打怪之后得到了经验,是否触发升级; 空调的自动调温系统; 键盘敲击相应系统; I/O请求, 系统一直在监听; 